# Changelog

## [Unreleased]

### Added

- Added support for `Vec<u8>` and `[u8; N]` types. (Pending rusqlite 0.27 release)

### Fixed

- Dependencies can also use Turbosql, and their tables will be added to your project's master `migrations.toml`.

## [0.4.0] - 2021-12-09

### Bumped

- Bumped `rusqlite` to 0.26.3

### Removed

- Removed `i54_` support. Try the `turbocharger` crate, which supports `i64`/`BigInt` via RPC. :)

### Changed

- MSRV is now Rust 1.56.
- New tables are created with SQLite 3.37's `STRICT` mode.

## [0.3.1] - 2021-09-03

### Fixed

- Symlink `README.md` so crates.io published package works.

## [0.3.0] - 2021-09-03

### Added

- Added `Turbosql` trait that represents the methods added by `#[derive(Turbosql)]`.
- Added `.update()` trait method. The row matching the caller's `rowid` is updated; all fields are replaced in the database.

### Changed

- MSRV is now Rust 1.54.
- Some returned errors of type `anyhow::Error` have been changed to `turbosql::TurbosqlError`.

### Fixed

- If no `migrations.toml` file exists in the project, an empty one will be created to prevent a cryptic error. :)

## [0.2.0] - 2021-05-23

### Bumped

- Bumped `rusqlite` to 0.25

### Added

- Added support for struct fields of additional type: `f32`
  - e.g. `struct S { field_f32: Option<f32> }`

## [0.1.7] - 2021-03-02

### Added

- Added `thread_local` SQLite connections and support for transactions. See [https://github.com/trevyn/turbosql#transactions-and-async](https://github.com/trevyn/turbosql#transactions-and-async)
- Added some extra table info to `migrations.toml` to give the proc macro more information to do its job.
- Added `turbosql::checkpoint()` to perform a SQLite WAL checkpoint operation.

## [0.1.5] - 2021-02-18

### Changed

- Renamed `autogenerated_schema_for_your_information_do_not_edit` to `output_generated_schema_for_your_information_do_not_edit` for smoother existence with auto-alphabetizing `toml` extensions.
- Pretty-print the generated schema for smoother reading.

## [0.1.4] - 2021-02-06

### Internal

- Renamed the internal `turbosql_migrations` table to `_turbosql_migrations`. It should be renamed automatically on existing `.sqlite` databases.

## [0.1.2] - 2021-02-06

### Added

- SQL comments (lines starting with `--`) are now always ignored when applying migrations, allowing you to make comments in your `migrations.toml` and edit and move the comments around over time.

## [0.1.1] - 2021-02-06

### Added

- Added ability to create a placeholder migration to "hint" Turbosql about the effect of a complex manual migration such as a column type change.

### Improved

- Proc-macro error message for schema migration failures now includes the specific SQL statement that failed.

## [0.1.0] - 2021-02-02

### Added

- Added support for `select!` directly into additional type: `f64`
  - e.g. `select!(f64 "bayesian_probability FROM table")`

### Fixed

- `.insert()` now returns correct `rowid` instead of count of affected rows.

## [0.0.3] - 2021-01-14

### Added

- Added support for `select!` directly into additional types: `String`, `i8`, `u8`, `i16`, `u16`, `i32`, `u32`
  - e.g. `select!(String "post_title FROM table")`

## [0.0.2] - 2021-01-12

- Initial release! ðŸŽ‰
